<tool id="sdr_teklia_worker_dla" name="SDR Teklia worker-dla" version="0.1.5">

    <description>Teklia Worker DLA for Synthesis+</description>

    <requirements>
        <container type="docker">teklia/synthesis-worker-dla</container>
        <requirement type="package" version="1.5">jq</requirement>
    </requirements>

    <command><![CDATA[
	JQ_BIN=`which jq` &&
    FILENAME=$('\$JQ_BIN' -r -S .payloads.filename '$input') && 
	worker-dla -i '$input' -o '$output' --image /home/paulb1/tempImages/$FILENAME
	]]></command>

    <inputs>
        <param name="input" type="data" format="json" label="Open Digital specimen object" />    
    </inputs>

    <outputs>
        <data format="json" name="output" />
    </outputs>

    <help>This tool detects visual regions on an image using a Machine Learning model from Teklia</help>

    <citations>

    </citations>
</tool>
